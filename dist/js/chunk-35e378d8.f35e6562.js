(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35e378d8"],{"2bba":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"content"},[n("div",{staticClass:"content-title"},[n("p",[t._v(t._s(t.contractDetail.provinceName)+"移动分期支付协议")])]),n("div",{staticClass:"agree-content",staticStyle:{"margin-top":"30px"}},[n("p",{staticStyle:{"text-indent":"0"}},[t._v("甲方："),n("span",{staticClass:"line",staticStyle:{width:"150px"}},[t._v(t._s(t.contractDetail.userName))])]),n("p",{staticStyle:{"text-indent":"0"}},[t._v("乙方：湖北点赞科技有限公司")]),n("p",[t._v("甲方是具有完全民事行为能力的自然人，因具有购买商品或服务的需求，同意办理分期业务，本协议在甲方通过"+t._s(t.contractDetail.provinceName)+"移动授权点赞收银台（以下简称“点赞”）扫码支付确认开始生效，甲方知晓有关责任或权利限制条款，经甲方本人充分审阅，已经完全知悉并充分理解条款的内容及相应法律后果，并无疑问、分歧或异议。")]),n("p",[t._v("甲方在"+t._s(t.contractDetail.provinceName)+"移动指定渠道门店办理分期业务，与乙方就办理和分期业务签订本协议。")]),n("h2",[t._v("一、业务内容")]),n("p",[t._v("甲乙双方一致同意：甲方在"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.merchantName))]),t._v("门店购买商品时，针对商品价格与商品首付金额的差额部分由甲方分期支付，乙方由此取得对于甲方应收账款，乙方分月从甲方支付宝冻结金额中分期划扣。")])]),n("div",{staticClass:"agree-content",staticStyle:{"margin-top":"10px"}},[n("h2",[t._v("分期服务信息卡")]),n("div",{staticStyle:{margin:"0 50px"}},[n("table",{staticClass:"table",attrs:{cellpadding:"0",cellspacing:"0",border:"0"}},[t._m(0),n("tr",[n("td",[t._v("  ￥"+t._s(t.contractDetail.payAmount))]),n("td",[t._v(t._s(t.contractDetail.num)+"期(月)  ")]),n("td",[t._v(t._s(t.contractDetail.num)+"月  ")]),n("td",[t._v("每月20日")])])])]),0==t.numType?n("p",[t._v("\n                甲方办理业务号码"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.userMobile))]),t._v("，\n                并授权乙方对其支付宝账户进行冻结，冻结金额为"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.payAmount))]),t._v("元，\n                冻结时长为"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.num))]),t._v("月。\n                乙方将于次月开始转支付，在每月20日从冻结金额中转支付还款"),n("span",{staticClass:"line"},[t._v("\n                "+t._s(t.contractDetail.eachAmount))]),t._v("元，转支付"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.num))]),t._v("次。\n            ")]):t._e(),1==t.numType?n("p",[t._v("\n                甲方办理业务号码"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.userMobile))]),t._v("，\n                并授权乙方对其支付宝账户进行冻结，冻结金额为"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.payAmount))]),t._v("元，\n                冻结时长为"),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.num))]),t._v("月。\n                乙方将于次月开始转支付，其中第1期至34期将在每月20日从冻结金额中转支付还款"+t._s(t.contractDetail.eachAmount)+"元，\n                第35期转支付金额为转支付还款"+t._s(t.contractDetail.lastAmount)+"元，转支付"),n("span",{staticClass:"line"},[t._v("35")]),t._v("次。\n            ")]):t._e(),n("h2",[t._v("二、各方权利和义务")]),n("p",[t._v("1、甲方同意乙方每月从冻结金额中转支付划款，用于分期还款。甲方申请办理本业务，已知晓并授权乙方在上述业务范围内使用甲方提供的个人信息及相关文件。")]),n("p",[t._v("2 、乙方为甲方提供本业务服务，就申请的本业务提供业务咨询、信息技术等相关服务。")]),n("h2",[t._v("三、退货结束业务")]),n("p",[t._v("1、在业务存续期限内，从业务办理成功当天开始，7天内（含）若商品出现质量问题，甲方需要退货并提前结束业务, 可到办理门店申请免费取消和分期业务。")]),n("p",[t._v("2、在本次分期生效后超过14天的，本业务无法取消，可到店申请提前还款，申请提前还款后，您的支付宝内冻结金额会全部转支付，若冻结的支付宝相关账户权益是花呗额度，则转支付后的花呗账单还款即可，若冻结的是非花呗额度，则无需向花呗还款。")]),n("h2",[t._v("四、争议解决")]),n("p",[t._v("本协议在履行过程中发生争议，可以通过协商解决；协商不成，双方均同意提请乙方所在地的仲裁委员会仲裁,按照申请仲裁时现行有效的网络仲裁规则进行网络仲裁并进行书面审理。败诉方应承担为解决本争议而产生的所有费用，包括但不限于仲裁费、律师费、公证费、交通费等。")]),n("van-row",{staticStyle:{"margin-top":"10px"}},[n("van-col",{attrs:{span:"9"}},[n("img",{staticClass:"companySignImg",attrs:{src:t.companySignImg}})]),n("van-col",{attrs:{span:"15"}},[n("div",{staticClass:"sign-content"},[n("p",{staticStyle:{"line-height":"60px",height:"60px",display:"inline-block",float:"left"}},[t._v("\n                            签名：\n                        ")]),""==t.signImg?n("button",{staticClass:"sign-btn",on:{click:function(e){t.show=!0}}},[t._v("点击去签名")]):t._e(),""!=t.signImg?n("div",{staticClass:"sign-img"},[n("img",{staticClass:"rotate",attrs:{src:t.signImg}})]):t._e()])])],1),n("van-row",{staticStyle:{"margin-bottom":"10px"}},[n("van-col",{attrs:{span:"9"}}),n("van-col",{attrs:{span:"15"}},[n("p",[t._v("日期："),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.year))]),t._v("年\n                        "),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.month))]),t._v("月\n                        "),n("span",{staticClass:"line"},[t._v(t._s(t.contractDetail.day))]),t._v("日\n                    ")])])],1)],1),n("van-popup",{staticStyle:{width:"100%",height:"100%","text-align":"center"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"sign"},[n("div",{staticStyle:{border:"1px solid #cccccc",margin:"5px"}},[n("vue-esign",{ref:"esign",attrs:{width:t.screenWidth,height:t.showHeight,isCrop:t.isCrop,lineWidth:t.lineWidth,lineColor:t.lineColor,bgColor:t.bgColor},on:{"update:bgColor":function(e){t.bgColor=e},"update:bg-color":function(e){t.bgColor=e}}})],1),n("div",{staticClass:"btn"},[n("button",{on:{click:t.handleGenerate}},[t._v("确认签字")]),n("button",{on:{click:t.handleReset}},[t._v("重新签名")]),n("button",{on:{click:t.back}},[t._v("返回")])])])])]),n("div",{staticClass:"footer"},[n("button",{staticClass:"gray",attrs:{type:"button",id:"btn",disabled:t.disabled},on:{click:t.createPay}},[t._v("\n                我已认真阅读并同意以上条款内容"+t._s(t.content)+"\n            ")])])],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("冻结额度")]),n("th",[t._v("冻结期数")]),n("th",[t._v("承诺在网")]),n("th",[t._v("扣款账单日")])])}],i=(n("7f7f"),n("34ef"),n("4917"),n("28a5"),n("96cf"),n("3b8d")),r=n("cea2"),o=n("91b6"),c=n("2465"),l={name:"payment-agreement",data:function(){return{tradeNo:"",outOrderNo:"",lineWidth:4,lineColor:"#000000",bgColor:"",resultImg:"",isCrop:!1,content:"(10s)",totalTime:10,disabled:!0,alipays:"",signImg:"",contractDetail:{},numType:0,userNameImg:null,companySignImg:n("cc89"),agree:!1,signSaveSuccess:!1,pay:null,show:!1,screenWidth:document.body.clientWidth,docmHeight:document.documentElement.clientHeight,showHeight:document.documentElement.clientHeight-160,hidshow:!0}},mounted:function(){var t=this;this.outTradeNo=this.$route.query.outTradeNo,this.queryContract(),this.timer(),window.onresize=function(){return function(){var e=t;window.fullHeight=document.documentElement.clientHeight,e.showHeight=window.fullHeight}()}},watch:{showHeight:function(t){var e=this;e.show2=!0,e.docmHeight>t?e.hidshow=!1:e.hidshow=!0}},methods:{queryContract:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.outTradeNo=this.outTradeNo,t.next=4,Object(c["h"])(e);case 4:n=t.sent,"20000"==n.data.code?(this.contractDetail=n.data.data,void 0!=this.contractDetail.numType&&null!=this.contractDetail.numType&&(this.numType=this.contractDetail.numType)):this.$toast({message:n.data.msg,icon:"warning-o"});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleReset:function(){this.$refs.esign.reset()},dataURLtoBlob:function(t){var e=t.split(","),n=e[0].match(/:(.*?);/)[1],a=atob(e[1]),s=a.length,i=new Uint8Array(s);while(s--)i[s]=a.charCodeAt(s);return new Blob([i],{type:n})},blobToFile:function(t,e){return t.lastModifiedDate=new Date,t.name=e,t},handleGenerate:function(){var t=this;this.show=!1,this.$refs.esign.generate().then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n){var a,s,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.resultImg=n,a=t.dataURLtoBlob(n),s=t.blobToFile(a,t.getFileName(t.contractDetail.userMobile)),e.next=5,t.getUploadToken("alipays");case 5:i=e.sent,i&&(r=i.host+i.key,t.userNameImg=r,t.uploadToQiniu(s,i.token,i.key,r,"alipays"));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log(e),t.$dialog.alert({message:"没有签名内容"})})},getFileName:function(t){var e="",n=this.createRandom(6);return e=void 0==t||null==t||""==t?n:t+n,e},getUploadToken:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])({outOrderNo:this.outTradeNo,type:e});case 2:if(n=t.sent,a=n.data,"20000"!=a.code){t.next=8;break}return t.abrupt("return",a.data);case 8:this.$dialog.alert({message:a.msg});case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),uploadToQiniu:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n,a,s,i){var o,c,l,u=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o={useCdnDomain:!0,region:r["region"].z2},c={fname:e.name,params:{},mimeType:null},l=r["upload"](e,a,n,c,o),l.subscribe({next:function(t){console.log(t)},error:function(t){console.log(t),u.$dialog.alert({message:"签名上传失败，请重试"})},complete:function(t){u[i]=s,setTimeout(u.toSaveContract(),1e3)}});case 4:case"end":return t.stop()}},t)}));function e(e,n,a,s,i){return t.apply(this,arguments)}return e}(),timer:function(){var t=this;this.time=setInterval(function(){document.getElementById("btn").style.backgroundColor="gray",t.totalTime--,t.content="("+t.totalTime+"s)",t.totalTime<=0&&(clearInterval(t.time),t.totalTime=10,t.content="",document.getElementById("btn").style.backgroundColor="#3385ff",document.getElementById("btn").disabled=!1,t.agree=!0)},1e3)},toSaveContract:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.outOrderNo=this.outTradeNo,e.userNameImg=this.userNameImg,e.userMobile=this.contractDetail.userMobile,this.$toast.loading({duration:0,mask:!0,message:"请稍后..."}),t.next=7,Object(c["i"])(e);case 7:n=t.sent,this.$toast.clear(),"20000"==n.data.code?(this.signSaveSuccess=!0,this.$toast({message:n.data.data,icon:"success"}),this.signImg=this.userNameImg):this.$toast({message:n.data.msg,icon:"warning-o"});case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createPay:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.agree){t.next=3;break}return this.$dialog.alert({message:"请阅读并同意协议"}),t.abrupt("return");case 3:if(this.userNameImg){t.next=6;break}return this.$dialog.alert({message:"请您签名后提交"}),t.abrupt("return");case 6:if(this.signSaveSuccess){t.next=9;break}return this.$dialog.alert({message:"签名保存失败，请重新保存"}),t.abrupt("return");case 9:return e={},e.outTradeNo=this.outTradeNo,this.$toast.loading({duration:0,mask:!0,message:"请稍后..."}),t.next=14,Object(c["a"])(e);case 14:n=t.sent,this.$toast.clear(),"20000"==n.data.code?(a=n.data.data.qrCodeUrl,window.location.href=a):this.$dialog.alert({message:n.data.msg});case 17:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),createRandom:function(){for(var t="",e=6,n=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),a=0;a<e;a++){var s=Math.floor(36*Math.random());t+=n[s]}return t},back:function(){this.show=!1}}},u=l,d=(n("9be8"),n("2877")),m=Object(d["a"])(u,a,s,!1,null,"2d3ca3aa",null);e["default"]=m.exports},"9be8":function(t,e,n){"use strict";var a=n("9c6b"),s=n.n(a);s.a},"9c6b":function(t,e,n){},cc89:function(t,e,n){t.exports=n.p+"img/company_sign.b5ebdd15.png"}}]);